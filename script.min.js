document.addEventListener('DOMContentLoaded',function(){const e=document.getElementById('navbar'),t=document.getElementById('hamburger'),n=document.getElementById('nav-menu'),a=document.querySelectorAll('.nav-link');t.addEventListener('click',function(){t.classList.toggle('active'),n.classList.toggle('active'),n.classList.contains('active')&&n.querySelectorAll('.nav-item').forEach((e,t)=>{e.style.animation=`fadeInUp .3s ease-out ${.1*t}s both`})}),a.forEach(e=>{e.addEventListener('click',function(){t.classList.remove('active'),n.classList.remove('active')})}),document.addEventListener('click',e=>{t.contains(e.target)||n.contains(e.target)||(t.classList.remove('active'),n.classList.remove('active'))}),window.addEventListener('scroll',function(){window.scrollY>50?e.classList.add('scrolled'):e.classList.remove('scrolled')});function s(){const e=document.querySelectorAll('section[id]'),t=window.scrollY+100;e.forEach(e=>{const n=e.offsetTop,a=e.offsetHeight,s=e.getAttribute('id'),o=document.querySelector(`.nav-link[href="#${s}"]`);t>=n&&t<n+a&&(a.forEach(e=>e.classList.remove('active')),o&&o.classList.add('active'))})}window.addEventListener('scroll',s),s();const o=document.getElementById('theme-toggle'),i=document.getElementById('theme-icon');if(o&&i){function c(){try{const e=localStorage.getItem('portfolio-theme')||'dark';document.documentElement.setAttribute('data-theme',e),document.body.setAttribute('data-theme',e),r(e),console.log('Theme initialized:',e)}catch(e){console.warn('Theme initialization failed, using default dark theme:',e),l('dark')}}function l(e){try{document.documentElement.setAttribute('data-theme',e),document.body.setAttribute('data-theme',e),localStorage.setItem('portfolio-theme',e),r(e),console.log('Theme set to:',e)}catch(t){console.warn('Failed to set theme:',t)}}function r(e){i.className='fas',i.classList.add(e==='light'?'fa-moon':'fa-sun')}function d(){const e=document.documentElement.getAttribute('data-theme'),t=e==='light'?'dark':'light';l(t)}c(),o.addEventListener('click',function(e){e.preventDefault(),d()})}function u(e,t,n=100){let a=0;function s(){a<t.length?(e.innerHTML+=t.charAt(a),a++,setTimeout(s,n)):setTimeout(()=>{e.innerHTML='',a=0,s()},2e3)}s()}const h=document.querySelector('.typing-text');h&&u(h,'AI/ML Engineer | Data Scientist | Cloud Architect | Full-Stack Developer');function f(){const e=document.querySelectorAll('.stat-number');e.forEach(e=>{const t=parseInt(e.getAttribute('data-target')),n=parseInt(e.getAttribute('data-duration'))||2000;let a=0;const s=setInterval(()=>{const o=Math.ceil(t*a/n);e.textContent=o,a+=1,a>n&&clearInterval(s)},1)})}function p(){const e=document.querySelectorAll('.counter');e.forEach(e=>{const t=e.getAttribute('data-target'),n=parseInt(e.getAttribute('data-duration'))||2000;let a=0;const s=setInterval(()=>{const o=Math.ceil(t*a/n);e.textContent=o,a+=1,a>n&&clearInterval(s)},1)})}const m=document.querySelector('.about-stats');if(m){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(p(),t.unobserve(e.target))})},{threshold:.1});e.observe(m)}function g(e,t){let n;return function(...a){clearTimeout(n),n=setTimeout(()=>e.apply(this,a),t)}}const v=g(()=>{const e=document.querySelectorAll('.project-card, .blog-card, .skill-category');e.forEach(e=>{const t=e.getBoundingClientRect();t.top<window.innerHeight&&t.bottom>0&&e.classList.add('animate-in')})},100);window.addEventListener('scroll',v),v();function y(){const e=document.querySelectorAll('.photo-collage img');e.forEach(e=>{e.addEventListener('click',function(){const t=this.src,n=this.alt;b(t,n)})})}function b(e,t){const n=document.createElement('div');n.className='lightbox',n.innerHTML=`<div class="lightbox-content"><img src="${e}" alt="${t}"><span class="close-lightbox">&times;</span></div>`,document.body.appendChild(n),document.body.style.overflow='hidden',n.addEventListener('click',function(e){e.target===n&&w()}),n.querySelector('.close-lightbox').addEventListener('click',w)}function w(){const e=document.querySelector('.lightbox');e&&(e.remove(),document.body.style.overflow='auto')}y();const x=document.querySelector('.typing-text');x&&u(x,'AI/ML Engineer | Data Scientist | Cloud Architect | Full-Stack Developer')});
